(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{4431:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var l=i(n(64938)),r=n(85893),a=(0,l.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");t.Z=a},64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(58372)},78445:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(63366),l=n(87462),r=n(67294),a=n(63961),o=n(94780),u=n(15861),s=n(71657),d=n(90948),c=n(1588),p=n(34867);function v(e){return(0,p.Z)("MuiCardHeader",e)}let m=(0,c.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var h=n(85893);let f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],x=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},v,t)},Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,l.Z)({[`& .${m.title}`]:t.title,[`& .${m.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),y=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),P=r.forwardRef(function(e,t){let n=(0,s.Z)({props:e,name:"MuiCardHeader"}),{action:r,avatar:o,className:d,component:c="div",disableTypography:p=!1,subheader:v,subheaderTypographyProps:m,title:P,titleTypographyProps:j}=n,T=(0,i.Z)(n,f),D=(0,l.Z)({},n,{component:c,disableTypography:p}),w=x(D),C=P;null==C||C.type===u.Z||p||(C=(0,h.jsx)(u.Z,(0,l.Z)({variant:o?"body2":"h5",className:w.title,component:"span",display:"block"},j,{children:C})));let M=v;return null==M||M.type===u.Z||p||(M=(0,h.jsx)(u.Z,(0,l.Z)({variant:o?"body2":"body1",className:w.subheader,color:"text.secondary",component:"span",display:"block"},m,{children:M}))),(0,h.jsxs)(Z,(0,l.Z)({className:(0,a.Z)(w.root,d),as:c,ref:t,ownerState:D},T,{children:[o&&(0,h.jsx)(g,{className:w.avatar,ownerState:D,children:o}),(0,h.jsxs)(b,{className:w.content,ownerState:D,children:[C,M]}),r&&(0,h.jsx)(y,{className:w.action,ownerState:D,children:r})]}))});var j=P},53184:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(87462),l=n(63366),r=n(67294),a=n(63961),o=n(94780),u=n(44063),s=n(71657),d=n(90948),c=n(1588),p=n(34867);function v(e){return(0,p.Z)("MuiTableHead",e)}(0,c.Z)("MuiTableHead",["root"]);var m=n(85893);let h=["className","component"],f=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},v,t)},x=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Z={variant:"head"},g="thead",y=r.forwardRef(function(e,t){let n=(0,s.Z)({props:e,name:"MuiTableHead"}),{className:r,component:o=g}=n,d=(0,l.Z)(n,h),c=(0,i.Z)({},n,{component:o}),p=f(c);return(0,m.jsx)(u.Z.Provider,{value:Z,children:(0,m.jsx)(x,(0,i.Z)({as:o,className:(0,a.Z)(p.root,r),ref:t,role:o===g?null:"rowgroup",ownerState:c},d))})});var b=y},58372:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return l.Z},createChainedFunction:function(){return r.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return s.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return p},setRef:function(){return v},unstable_ClassNameGenerator:function(){return b},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return f},useControlled:function(){return x.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return y.Z}});var i=n(37078),l=n(98216),r=n(35893),a=n(88169),o=n(57144),u=function(e,t){return()=>null},s=n(71579),d=n(8038),c=n(5340);n(87462);var p=function(e,t){return()=>null},v=n(7960).Z,m=n(58974),h=n(27909),f=function(e,t,n,i,l){return null},x=n(49299),Z=n(2068),g=n(51705),y=n(18791);let b={configure:e=>{i.Z.configure(e)}}},35823:function(e){e.exports=function(e,t,n,i){var l=new Blob(void 0!==i?[i,e]:[e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(l,t);else{var r=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(l):window.webkitURL.createObjectURL(l),a=document.createElement("a");a.style.display="none",a.href=r,a.setAttribute("download",t),void 0===a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),setTimeout(function(){document.body.removeChild(a),window.URL.revokeObjectURL(r)},200)}}},67686:function(e,t,n){"use strict";var i=n(85893),l=n(67294),r=n(41609),a=n.n(r),o=n(24697),u=n(74368),s=n(4568),d=n(66476),c=n(84962),p=n(36822);let v=e=>{let{error:t,helperText:n,withAdditionalParams:r,additionalParams:v,defaultValue:m={},value:h={},onChange:f,label:x="",selectorSelectedKey:Z="name",disabled:g=!1,disableClearable:y,contentsModifier:b}=e,[P,j]=(0,l.useState)(""),[T]=(0,o.Nr)(P,300),D={page:1,size:10,[Z]:T,...v};Object.keys(D).map(e=>{D[e]||delete D[e]});let{data:w,fetchNextPage:C,hasNextPage:M,isFetchingNextPage:N}=(0,s.SG)(D,{enabled:!g&&(!r||!a()(v)),select:e=>{var t;let n=null==e?void 0:null===(t=e.pages)||void 0===t?void 0:t.flatMap(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.content});return b?b(n):n}}),S=e=>{let t=e.currentTarget;(0,u.U2)(t,30,async()=>{M&&(N||C())})},k=(e,t,n)=>{e&&"blur"===e.type?j(""):"reset"!==n&&j(t)},I=e=>{var t;let n={...e,code:null==e?void 0:e.code,name:null==e?void 0:null===(t=e.item)||void 0===t?void 0:t.name};return null==n?void 0:n[Z]};return(0,i.jsx)(c.Z,{options:w||[],getOptionLabel:e=>I(e)||"",id:"autocomplete-custom",disableClearable:y,onInputChange:k,onChange:(e,t)=>f(t),disabled:g,renderInput:e=>(0,i.jsx)(d.Z,{...e,label:x,error:t,helperText:n}),renderOption:(e,t)=>(0,l.createElement)(p.Z,{...e,component:"li",key:null==t?void 0:t.id},I(t)||""),ListboxProps:{onScroll:S,style:{maxHeight:150}},defaultValue:m,value:h})};t.Z=v},24959:function(e,t,n){"use strict";var i=n(85893),l=n(67294),r=n(41609),a=n.n(r),o=n(24697),u=n(74368),s=n(86965),d=n(66476),c=n(84962),p=n(36822);let v=e=>{let{error:t,helperText:n,withAdditionalParams:r,additionalParams:v,defaultValue:m={},value:h={id:"",name:""},onChange:f,label:x="仕入先",type:Z,selectorSelectedKey:g="name",disabled:y,id:b="dropdownItems",disableClearable:P=!1,customOptions:j}=e,[T,D]=(0,l.useState)(""),[w]=(0,o.Nr)(T,300),C={page:1,size:10,name:w,...Z&&{type:Z},...v};a()(C.name)&&delete C.name;let{data:M,fetchNextPage:N,hasNextPage:S,isFetchingNextPage:k}=(0,s.By)(C,{enabled:!r||!a()(v),select:e=>{var t;return null==e?void 0:null===(t=e.pages)||void 0===t?void 0:t.flatMap(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.content})}}),I=e=>{let t=e.currentTarget;(0,u.U2)(t,30,async()=>{S&&(k||N())})},_=(e,t,n)=>{e&&"blur"===e.type?D(""):"reset"!==n&&D(t)};return(0,i.jsx)(c.Z,{options:j||M||[],getOptionLabel:e=>(null==e?void 0:e[g])||"",id:b,disableClearable:P,onInputChange:_,onChange:(e,t)=>f(t),disabled:y,renderInput:e=>(0,i.jsx)(d.Z,{...e,label:x,error:t,helperText:n}),renderOption:(e,t)=>(0,l.createElement)(p.Z,{...e,component:"li",key:null==t?void 0:t.id},null==t?void 0:t[g]),ListboxProps:{onScroll:I,style:{maxHeight:150}},defaultValue:m,value:h})};t.Z=v},37794:function(e,t,n){"use strict";n.d(t,{Z:function(){return X}});var i=n(85893),l=n(67294),r=n(66242),a=n(44267),o=n(78445),u=n(9198),s=n.n(u),d=n(11163),c=n(86874),p=n(86965),v=n(24959),m=n(66476),h=n(69417),f=n(86886);let x=(0,l.forwardRef)((e,t)=>(0,i.jsx)(m.Z,{...e,inputRef:t,label:null==e?void 0:e.label,autoComplete:"off"}));x.displayName="CustomDateInput";let Z=e=>{var t;let{params:n,setParams:r,defaultValue:a}=e,o=(0,d.useRouter)(),u=o.query.id,m=!!u,[Z,g]=(0,l.useState)({supplier:null==a?void 0:a.supplier}),y=e=>{r({...n,issueAt:e})},{data:b}=(0,p.Dc)(null==Z?void 0:null===(t=Z.supplier)||void 0===t?void 0:t.id,{enabled:!!(null==Z?void 0:Z.supplier)}),P=()=>{r({...n,supplier:null==b?void 0:b.data})};return(0,i.jsx)(f.ZP,{container:!0,spacing:5,padding:"24px",justifyContent:"flex-end ",children:(0,i.jsxs)(f.ZP,{item:!0,container:!0,xs:12,spacing:5,alignItems:"flex-end",children:[(0,i.jsx)(f.ZP,{item:!0,xs:m?6:4.5,children:(0,i.jsx)(v.Z,{type:"NORMAL",disabled:m,defaultValue:(null==a?void 0:a.supplier)||{},value:(null==Z?void 0:Z.supplier)||null,onChange:e=>{var t;let n=e||(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value);g({...Z,supplier:n})},label:"仕入先名"})}),!m&&(0,i.jsx)(f.ZP,{item:!0,xs:3,children:(0,i.jsx)(h.Z,{disabled:m,fullWidth:!0,color:"warning",variant:"contained",onClick:P,children:"検索"})}),(0,i.jsx)(f.ZP,{item:!0,xs:m?6:4.5,children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(s(),{disabled:m,id:"issueAt",selected:null==n?void 0:n.issueAt,placeholderText:"YYYY/MM/DD",dateFormat:"yyyy/MM/dd",onChange:y,customInput:(0,i.jsx)(x,{InputProps:{readOnly:!0},fullWidth:!0,label:"発行日"})})})})]})})};var g=n(85945),y=n(27484),b=n.n(y),P=n(45679),j=n(22224),T=n(41609),D=n.n(T);let w=(0,P.Z)(()=>({menuPaper:{maxHeight:300}})),C=e=>{let{error:t,helperText:n,supplierId:r="",defaultValue:a={},value:o={id:"",name:""},onChange:u,label:s="請求先名",disabled:d=!1,readOnly:c=!1,selectorSelectedKey:v="name"}=e,h=w(),[f,x]=(0,l.useState)([]);(0,p.Dc)(r,{enabled:!!r,onSuccess:e=>{if(null==e?void 0:e.data){var t,n;x(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.points)||void 0===n?void 0:n.map(e=>({id:null==e?void 0:e.id,name:null==e?void 0:e.name})))}}});let Z=null==f?void 0:f.filter(e=>(null==e?void 0:e.id)!=(null==a?void 0:a.id));return(0,i.jsxs)(m.Z,{error:t,helperText:n,disabled:d,fullWidth:!0,select:!0,SelectProps:{readOnly:c,defaultValue:a,value:o,onChange:u,MenuProps:{classes:{paper:h.menuPaper}}},label:s,id:"suppliersPointDropdown",children:[!D()(a)&&(0,i.jsx)(j.Z,{value:a,children:null==a?void 0:a[v]}),null==Z?void 0:Z.map((e,t)=>(0,i.jsx)(j.Z,{value:e,children:null==e?void 0:e[v]},t))]})};var M=n(81820),N=n(41285),S=n(90629),k=n(7906),I=n(295),_=n(53252),E=n(72882),A=n(53184),O=n(53816),R=n(35823),H=n.n(R),L=n(74368),Y=n(15861);let F=e=>{let{id:t,isEdit:n,prices:l,handleRegister:r,disabledButton:a=!1}=e,{refetch:o}=(0,N.dW)(t,{enabled:!1,onSuccess:e=>{(null==e?void 0:e.data)&&H()(null==e?void 0:e.data,"発注書データ.xlsx")}});return(0,i.jsxs)(f.ZP,{container:!0,padding:"24px",spacing:5,xs:12,justifyContent:"flex-end",children:[(0,i.jsxs)(f.ZP,{container:!0,item:!0,xs:12,spacing:10,children:[(0,i.jsx)(f.ZP,{item:!0,xs:10,children:(0,i.jsx)(Y.Z,{variant:"h6",textAlign:"right",children:"小計"})}),(0,i.jsx)(f.ZP,{item:!0,xs:2,children:(0,i.jsx)(Y.Z,{variant:"h6",textAlign:"left",children:(null==l?void 0:l.subTotalPrice)?(0,L.hN)(null==l?void 0:l.subTotalPrice):""})})]}),(0,i.jsxs)(f.ZP,{container:!0,item:!0,xs:12,spacing:10,children:[(0,i.jsx)(f.ZP,{item:!0,xs:10,children:(0,i.jsx)(Y.Z,{variant:"h6",textAlign:"right",children:"消費税"})}),(0,i.jsx)(f.ZP,{item:!0,xs:2,children:(0,i.jsx)(Y.Z,{variant:"h6",textAlign:"left",children:(null==l?void 0:l.subTotalTax)?(0,L.hN)(null==l?void 0:l.subTotalTax):""})})]}),(0,i.jsxs)(f.ZP,{container:!0,item:!0,xs:12,spacing:10,children:[(0,i.jsx)(f.ZP,{item:!0,xs:10,children:(0,i.jsx)(Y.Z,{variant:"h6",textAlign:"right",children:"合計"})}),(0,i.jsx)(f.ZP,{item:!0,xs:2,children:(0,i.jsx)(Y.Z,{variant:"h6",textAlign:"left",children:(null==l?void 0:l.totalPrice)?(0,L.hN)(null==l?void 0:l.totalPrice):""})})]}),(0,i.jsxs)(f.ZP,{container:!0,item:!0,xs:12,spacing:10,justifyContent:"flex-end",children:[(0,i.jsx)(f.ZP,{item:!0,xs:2,children:(0,i.jsx)(h.Z,{onClick:r,fullWidth:!0,color:"warning",variant:"contained",disabled:a,children:"登録"})}),n&&(0,i.jsx)(f.ZP,{item:!0,xs:2,children:(0,i.jsx)(h.Z,{fullWidth:!0,color:"success",variant:"contained",onClick:o,children:"発注書 ダウンロード"})})]})]})};var B=n(50361),W=n.n(B),q=n(67686),U=n(4431);let K=e=>{var t,n,l,r;let{isEdit:a,supplier:o,defaultValue:u,items:s,idx:d,itemPacks:c,setItemPacks:p,setPrices:v}=e,f=(e,t)=>{let n=W()(c),i=n[d],l=((null==i?void 0:i.packPrice)&&(null==i?void 0:i.packQtyOnBox)?(null==i?void 0:i.packPrice)*(null==i?void 0:i.packQtyOnBox):null==i?void 0:i.masterBoxPrice)||0;if("totalBoxQty"==e){n[d]={...n[d],totalBoxPrice:parseFloat(t*l)};let e={subTotalPrice:0,subTotalTax:0,totalPrice:0};n.forEach(t=>{if(t){let n=null==t?void 0:t.totalBoxPrice,i=10*n/100;e.subTotalPrice=parseFloat(e.subTotalPrice+n),e.subTotalTax=parseFloat(e.subTotalTax+i),e.totalPrice=parseFloat(e.totalPrice+n+i)}}),v(e)}n[d]={...n[d],[e]:t},p(n)},x=e=>{let t=W()(c);t[d]={...e,totalBoxPrice:0},p(t)},Z=(null==c?void 0:c.length)-1==d,{masterPackQtyOnBox:g,masterUnitQtyOnPack:y,masterPackPrice:b,masterBoxPrice:P,totalBoxPrice:j,totalBoxQty:T=0,unitQtyOnPack:D,packQtyOnBox:w,packPrice:C}=s,M=a?y:D,N=a?b:C,S=a?P:C*w,k=a||!(null==o?void 0:o.id);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(O.Z,{hover:!0,children:[(0,i.jsx)(_.Z,{align:"center",children:(0,i.jsx)(q.Z,{disabled:k,withAdditionalParams:!0,additionalParams:{supplierId:null==o?void 0:o.id},defaultValue:null==u?void 0:null===(t=u.itemPacks)||void 0===t?void 0:t[d],value:null!==(l=null==s?void 0:s.itemPack)&&void 0!==l?l:s,onChange:e=>x(e),selectorSelectedKey:"name"})}),(0,i.jsx)(_.Z,{align:"center",children:(0,i.jsx)(q.Z,{disabled:k,withAdditionalParams:!0,additionalParams:{supplierId:null==o?void 0:o.id},defaultValue:null==u?void 0:null===(n=u.itemPacks)||void 0===n?void 0:n[d],value:null!==(r=null==s?void 0:s.itemPack)&&void 0!==r?r:s,onChange:e=>x(e),selectorSelectedKey:"code"})}),(0,i.jsx)(_.Z,{align:"center",children:M?(0,L.hN)(M)+"袋":""}),(0,i.jsx)(_.Z,{align:"center",children:N?(0,L.hN)(N)+"円":""}),(0,i.jsx)(_.Z,{align:"center",children:S?(0,L.hN)(S)+"円":""}),(0,i.jsx)(_.Z,{align:"center",children:(0,i.jsx)(m.Z,{disabled:a?!(null==o?void 0:o.id):k,fullWidth:!0,inputProps:{style:{textAlign:"center"}},type:"text",value:T,onChange:e=>{var t;return f("totalBoxQty",null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},id:"itemName"})}),(0,i.jsx)(_.Z,{align:"center",children:j?(0,L.hN)(j)+"円":""})]},d),!k&&Z&&(0,i.jsxs)(O.Z,{children:[(0,i.jsx)(_.Z,{colSpan:2,align:"center"}),(0,i.jsx)(_.Z,{colSpan:3,align:"center",children:(0,i.jsx)(h.Z,{fullWidth:!0,onClick:()=>p([...c,{}]),children:(0,i.jsx)(U.Z,{fontSize:"medium"})})}),(0,i.jsx)(_.Z,{colSpan:2,align:"center"})]},d+1)]})};var V=[{id:"itemName",label:"品目名",align:"center",width:200},{id:"itemCode",label:"品目コード",align:"center",width:200},{id:"quantity",label:"入数",align:"center",width:200},{id:"unitPricePerBag",label:"1袋単価",align:"center",width:200},{id:"unitPricePerCase",label:"1ケース単価",align:"center",width:200},{id:"quantity2",label:"数量",align:"center",width:200},{id:"amount",label:"金額",align:"center",width:200}];let Q=(0,l.forwardRef)((e,t)=>(0,i.jsx)(m.Z,{...e,inputRef:t,label:null==e?void 0:e.label,autoComplete:"off"}));Q.displayName="CustomDateInput";let z=e=>{var t;let{defaultValue:n={},additionalParams:r={}}=e,a=(0,d.useRouter)(),o=a.query.id,u=!!o,p=(0,g.NL)(),{mutate:v}=(0,N.W1)(),{mutate:m}=(0,N.EW)(o),[h,x]=(0,l.useState)((null==n?void 0:n.deliveryAt)?new Date(null==n?void 0:null===(t=n.deliveryAt)||void 0===t?void 0:t.split("/").join("-")):new Date),[Z,y]=(0,l.useState)((null==n?void 0:n.supplier)||{}),[P,j]=(0,l.useState)((null==n?void 0:n.supplierPoint)||{}),[T,D]=(0,l.useState)(u?n.itemPacks:[{}]),[w,R]=(0,l.useState)({subTotalPrice:null==n?void 0:n.subTotalPrice,subTotalTax:null==n?void 0:n.subTotalTax,totalPrice:null==n?void 0:n.totalPrice}),[H,L]=(0,l.useState)(!1),Y=e=>{var t,n,i,l;e.preventDefault();let o={deliveryAt:null===(t=b()(h))||void 0===t?void 0:t.format("YYYY-MM-DD"),itemPacks:null==T?void 0:T.map(e=>({id:null==e?void 0:e.id,totalBoxQty:null==e?void 0:e.totalBoxQty}))},s={issueAt:null===(n=b()(null==r?void 0:r.issueAt))||void 0===n?void 0:n.format("YYYY-MM-DD"),deliveryAt:null===(i=b()(h))||void 0===i?void 0:i.format("YYYY-MM-DD"),supplier:{id:null==Z?void 0:Z.id},supplierPoint:{id:null==P?void 0:P.id},itemPacks:null===(l=null==T?void 0:T.filter(e=>null==e?void 0:e.id))||void 0===l?void 0:l.map(e=>({itemPack:{id:null==e?void 0:e.id},totalBoxQty:null==e?void 0:e.totalBoxQty}))};L(!0),(u?m:v)(u?o:s,{onSuccess:()=>{L(!1),p.removeQueries(M.Z.adminSupplierPurchases._def),a.push("/purchase-order")}})};return(0,l.useEffect)(()=>{(null==r?void 0:r.supplier)!=Z&&(y(null==r?void 0:r.supplier),j({}),D([{}]))},[null==r?void 0:r.supplier]),(0,i.jsxs)(f.ZP,{container:!0,spacing:5,children:[(0,i.jsx)(f.ZP,{container:!0,item:!0,marginX:"24px",children:(0,i.jsxs)(f.ZP,{item:!0,container:!0,spacing:5,justifyContent:"space-between",children:[(0,i.jsx)(f.ZP,{item:!0,xs:u?6:4.5,children:(0,i.jsx)(C,{supplierId:(null==Z?void 0:Z.id)||"",disabled:u||!(null==Z?void 0:Z.id),defaultValue:(null==n?void 0:n.supplierPoint)||{},value:P,onChange:e=>{var t;return j(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)}})}),(0,i.jsx)(f.ZP,{item:!0,xs:u?6:4.5,children:(0,i.jsx)(c.Z,{children:(0,i.jsx)(s(),{id:"deliveryAt",selected:h,dateFormat:"yyyy/MM/dd",placeholderText:"YYYY/MM/DD",onChange:e=>x(e),customInput:(0,i.jsx)(Q,{InputProps:{readOnly:!0},fullWidth:!0,label:"納品日"})})})})]})}),(0,i.jsx)(f.ZP,{item:!0,children:(0,i.jsxs)(S.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,i.jsx)(E.Z,{children:(0,i.jsxs)(k.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,i.jsx)(A.Z,{children:(0,i.jsx)(O.Z,{children:V.map(e=>(0,i.jsx)(_.Z,{align:null==e?void 0:e.align,style:{width:null==e?void 0:e.width},children:e.label},e.id))})}),(0,i.jsx)(I.Z,{children:(null==T?void 0:T.length)==0?(0,i.jsx)(O.Z,{children:(0,i.jsx)(_.Z,{colSpan:null==V?void 0:V.length,align:"center",children:"「該当する品目はありません。」"})}):null==T?void 0:T.map((e,t)=>(0,i.jsx)(K,{isEdit:u,supplier:Z,defaultValue:n,items:e,idx:t,itemPacks:T,setItemPacks:D,setPrices:R},t))})]})}),(0,i.jsx)(F,{isEdit:u,id:o,prices:w,handleRegister:Y,disabledButton:H})]})})]})},G=e=>{let{defaultValue:t,cardTitle:n=""}=e,[u,s]=(0,l.useState)({supplier:null==t?void 0:t.supplier,issueAt:(null==t?void 0:t.issueAt)?new Date(null==t?void 0:t.issueAt):new Date(new Date().getFullYear(),new Date().getMonth(),1)});return(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(o.Z,{title:n}),(0,i.jsxs)(a.Z,{sx:{p:0,"&:last-child":{pb:0}},children:[(0,i.jsx)(Z,{defaultValue:t,params:u,setParams:s}),(0,i.jsx)(z,{defaultValue:t,additionalParams:u})]})]})};var X=G},74368:function(e,t,n){"use strict";n.d(t,{$U:function(){return h},Bi:function(){return s},Iy:function(){return o},Kd:function(){return m},U2:function(){return d},WL:function(){return u},Wd:function(){return a},cB:function(){return v},ec:function(){return f},hN:function(){return x},sl:function(){return r},y_:function(){return c}});var i=n(27484),l=n.n(i);let r=["PUBLIC","PRIVATE","DELETED"],a={PUBLIC:"公開",PRIVATE:"非公開",DELETED:"削除"},o={END_FOLLOWING_MONTH:"30日(月末)",DATE_10_FOLLOWING_MONTH:"10日",DATE_15_FOLLOWING_MONTH:"15日",DATE_20_FOLLOWING_MONTH:"20日"},u={END_NEXT_MONTH:"翌月末",DATE_25_NEXT_MONTH:"翌月25日",DATE_20_NEXT_MONTH:"翌月20日",DATE_15_NEXT_MONTH:"翌月15日",DATE_10_NEXT_MONTH:"翌月10日",DATE_5_SECOND_MONTH:"翌々月5日",DATE_10_SECOND_MONTH:"翌々月10日"},s=e=>{let t=e.split("-");return"".concat(parseInt(t[0]),"年").concat(parseInt(t[1]),"月").concat(parseInt(t[2]),"日")},d=(e,t,n)=>{t=parseInt(t),e.scrollTop+e.clientHeight>=e.scrollHeight-t&&n()},c=e=>{let t=null==e?void 0:e.map(e=>({id:e.customerFacility.id,name:e.customerFacility.name})),n=new Map;null==t||t.forEach(e=>{n.has(e.name)||n.set(e.name,e)});let i=Array.from(n.values());return i.sort((e,t)=>e.name.localeCompare(t.name,"ja"))};var p=new Date;let v=new Date(p.getFullYear(),p.getMonth(),1),m=new Date(p.getFullYear(),p.getMonth()+1,0),h=e=>{let t=new Date(e);return t.setMonth(t.getMonth()+1),t.setDate(0),t},f=e=>e?l()(e).format("YYYY-MM-DD"):null,x=e=>{let t=Intl.NumberFormat("en-US"),n=t.format(Math.floor(parseInt(e)));return n}},81820:function(e,t,n){"use strict";var i=n(10987);let l=(0,i.rh)({todos:{list:e=>[e],detail:e=>[e]},adminBulletins:{list:e=>[e],detail:e=>[e]},adminPrefectures:{list:e=>[e],detail:e=>[e]},adminItems:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCourses:{list:e=>[e],detail:e=>[e]},adminSuppliers:{list:e=>[e],detail:e=>[e],holiday:e=>[e]},adminAllergens:{list:e=>[e],detail:e=>[e]},adminItemPacks:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminItemPacksInventories:{list:e=>[e]},adminItemPackLogs:{list:e=>[e]},adminMenus:{list:e=>[e],detail:e=>[e]},adminTimeSections:{list:e=>[e],detail:e=>[e]},adminCustomers:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminSupplierPurchases:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminSupplierPurchaseMonthlies:{list:e=>[e],detail:e=>[e]},adminCustomersFacilities:{list:e=>[e],detail:e=>[e]},facilityKinds:{list:e=>[e],detail:e=>[e]},adminWarehouses:{list:e=>[e],detail:e=>[e]},adminSupplierInvoiceMonthlies:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCustomerInvoiceMonthlies:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCustomerPurchaseMenus:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseSingles:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseMousses:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseRices:{list:e=>[e],detail:e=>[e]},adminServes:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseMonthlies:{list:e=>[e],detail:e=>[e]},adminItemDeliveries:{list:e=>[e]},adminCustomerDeliveries:{list:e=>[e],deliver:e=>[e],exportDeliverySlip:e=>[e]},adminCustomerDeliveriesGenerate:{list:e=>[e],detail:e=>[e]},adminCustomerDeliveriesExportDeliverySlip:{list:e=>[e]},adminCustomerDeliveriesDeliver:{list:e=>[e]},publicTemperature:{list:e=>[e]},publicClosingType:{list:e=>[e]},publicPaymentType:{list:e=>[e]},publicTimezoneType:{list:e=>[e]},publicDeliveryFrequency:{list:e=>[e]}});t.Z=l},4568:function(e,t,n){"use strict";n.d(t,{s3:function(){return Z},qo:function(){return h},x5:function(){return m},bZ:function(){return f},SG:function(){return v},tj:function(){return x}});var i=n(59403),l=n(36492),r=n(48228),a=n(29180);let o=e=>a.Z.get("admin/item-packs",{params:e}),u=e=>a.Z.get("admin/item-packs/export",{params:e,responseType:"blob"}),s=e=>a.Z.get("admin/item-packs/".concat(e)),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.Z.post("admin/item-packs",e,{...t})},c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.Z.put("admin/item-packs/".concat(e),t,{...n})};var p=n(81820);let v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminItemPacks.list(e).queryKey,l=t=>o({...e,...t});return(0,i.N)({queryKey:n,queryFn:e=>{let{pageParam:t}=e;return l(t)},getNextPageParam:e=>{var t,n;if(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.last)return null;let i=(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.number)+1;return{page:i+1}},...t})},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminItemPacks.list(e).queryKey,i=()=>o(e);return(0,l.a)({queryKey:n,queryFn:i,...t})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminItemPacks.export(e).queryKey,i=()=>u(e),r={...t};return(0,l.a)({queryKey:n,queryFn:i,...r})},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminItemPacks.detail(e).queryKey,i=()=>s(e);return(0,l.a)({queryKey:n,queryFn:i,...t})},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.D)(t=>d(t,e))},Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.D)(n=>c(e,n,t))}},41285:function(e,t,n){"use strict";n.d(t,{EW:function(){return x},dW:function(){return m},ep:function(){return Z},zz:function(){return v},xm:function(){return h},W1:function(){return f}});var i=n(36492),l=n(48228),r=n(29180);let a=e=>r.Z.get("admin/supplier-purchases",{params:e}),o=e=>r.Z.get("admin/supplier-purchases/".concat(e,"/export/invoice"),{responseType:"blob"}),u=e=>r.Z.get("admin/supplier-purchases/".concat(e)),s=e=>r.Z.post("admin/supplier-purchases",e),d=(e,t)=>r.Z.put("admin/supplier-purchases/".concat(e),t),c=e=>r.Z.get("admin/supplier-purchase-monthlies",{params:e});var p=n(81820);let v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminSupplierPurchases.list(e).queryKey,l=()=>a(e);return(0,i.a)({queryKey:n,queryFn:l,...t})},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminSupplierPurchases.export(e).queryKey,l=()=>o(e),r={...t};return(0,i.a)({queryKey:n,queryFn:l,...r})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminSupplierPurchases.detail(e).queryKey,l=()=>u(e);return(0,i.a)({queryKey:n,queryFn:l,...t})},f=()=>(0,l.D)(e=>s(e)),x=e=>(0,l.D)(t=>d(e,t)),Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p.Z.adminSupplierPurchaseMonthlies.list(e).queryKey,l=()=>c(e);return(0,i.a)({queryKey:n,queryFn:l,...t})}},86965:function(e,t,n){"use strict";n.d(t,{UP:function(){return P},kD:function(){return y},Ac:function(){return f},Dc:function(){return x},fO:function(){return Z},By:function(){return h},vv:function(){return g},eF:function(){return b}});var i=n(59403),l=n(36492),r=n(48228),a=n(29180);let o=e=>a.Z.get("admin/suppliers",{params:e}),u=(e,t)=>a.Z.get("admin/suppliers/".concat(e),{params:t}),s=e=>a.Z.post("admin/suppliers",e),d=(e,t)=>a.Z.put("admin/suppliers/".concat(e),t),c=(e,t)=>a.Z.get("admin/suppliers/".concat(e,"/holiday"),{params:t}),p=(e,t)=>a.Z.post("admin/suppliers/".concat(e,"/holiday"),null,{params:t}),v=(e,t)=>a.Z.delete("admin/suppliers/".concat(e,"/holiday"),{params:t});var m=n(81820);let h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.Z.adminSuppliers.list(e).queryKey,l=t=>o({...e,...t});return(0,i.N)({queryKey:n,queryFn:e=>{let{pageParam:t}=e;return l(t)},getNextPageParam:e=>{var t,n;if(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.last)return null;let i=(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.number)+1;return{page:i+1}},...t})},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.Z.adminSuppliers.list(e).queryKey,i=()=>o(e),r={...t};return(0,l.a)({queryKey:n,queryFn:i,...r})},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.Z.adminSuppliers.detail(e).queryKey,i=()=>u(e),r={...t};return(0,l.a)({queryKey:n,queryFn:i,...r})},Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.Z.adminSuppliers.holiday(e).queryKey,i=()=>c(e),r={...t};return(0,l.a)({queryKey:n,queryFn:i,...r})},g=()=>(0,r.D)(e=>s(e)),y=e=>(0,r.D)(t=>d(e,t)),b=e=>(0,r.D)(t=>p(e,t)),P=e=>(0,r.D)(t=>v(e,t))},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);