(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2719],{92723:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shipping-corn-pickle",function(){return t(78135)}])},82927:function(e,l,t){"use strict";var o=t(85893),r=t(67294),i=t(9198),n=t.n(i);t(27484);var a=t(35823),s=t.n(a),d=t(35937),c=t.n(d),u=t(86874),m=t(74368),x=t(21888),h=t(69417),w=t(86886),j=t(67739),k=t(97065);let p=e=>{let{setParams:l,tabValue:t,type:i}=e,[a,d]=(0,r.useState)({type:i,workAtFrom:m.cB,workAtTo:m.Kd,customerFacility:{}}),p=e=>l=>{d({...a,[e]:l})},v=()=>{let e=c()({...a,workAtFrom:(0,m.ec)(null==a?void 0:a.workAtFrom),workAtTo:(0,m.ec)(null==a?void 0:a.workAtTo)},e=>!!e)||{};return e},Z=e=>{null==e||e.preventDefault();let t=v();l(t)},y=async()=>{var e;let l=v();Object.keys(l).map(e=>{l[e]||delete l[e],delete l.customerFacility});let{data:t}=await (0,x.Mh)({...l,customerFacilityId:null===(e=a.customerFacility)||void 0===e?void 0:e.id});t&&s()(t,"献立出荷指示.zip")},g=async()=>{var e;let l=v();Object.keys(l).map(e=>{l[e]||delete l[e],delete l.customerFacility});let{data:t}=await (0,x.tv)({...l,customerFacilityId:null===(e=a.customerFacility)||void 0===e?void 0:e.id});if((null==t?void 0:t.message)==="OPERATION.DELIVER.SUCCESS"){let{data:e}=await (0,x.fS)(l);e&&s()(e,"献立出荷指示.csv")}},A={all:{workAtFrom:null==a?void 0:a.workAtFrom,workAtTo:null==a?void 0:a.workAtTo},current:{workAtFrom:new Date,workAtTo:new Date},old:{workAtFrom:null,workAtTo:new Date}};return(0,r.useEffect)(()=>{var e,l;d({...a,workAtFrom:null==A?void 0:null===(e=A[t])||void 0===e?void 0:e.workAtFrom,workAtTo:null==A?void 0:null===(l=A[t])||void 0===l?void 0:l.workAtTo})},[t]),(0,o.jsxs)(w.ZP,{container:!0,spacing:5,padding:"24px",children:[(0,o.jsxs)(w.ZP,{item:!0,container:!0,spacing:5,alignItems:"flex-end",children:[(0,o.jsxs)(w.ZP,{item:!0,container:!0,spacing:5,md:10,lg:10,children:[(0,o.jsx)(w.ZP,{item:!0,md:3,lg:3,xs:12,children:(0,o.jsx)(u.Z,{children:(0,o.jsx)(n(),{id:"workAtFrom",showYearDropdown:!0,showMonthDropdown:!0,selected:null==a?void 0:a.workAtFrom,placeholderText:"YYYY/MM/DD",dateFormat:"yyyy/MM/dd",onChange:p("workAtFrom"),customInput:(0,o.jsx)(j.Z,{fullWidth:!0,label:"献立日"}),disabled:"current"===t||"old"===t})})}),(0,o.jsx)(w.ZP,{item:!0,lg:.35,md:.35,marginBottom:1,display:{xs:"none",lg:"block",md:"block"},children:"〜"}),(0,o.jsx)(w.ZP,{item:!0,md:3,lg:3,xs:12,children:(0,o.jsx)(u.Z,{children:(0,o.jsx)(n(),{id:"workAtTo",showYearDropdown:!0,showMonthDropdown:!0,selected:null==a?void 0:a.workAtTo,placeholderText:"YYYY/MM/DD",dateFormat:"yyyy/MM/dd",onChange:p("workAtTo"),customInput:(0,o.jsx)(j.Z,{fullWidth:!0}),disabled:"current"===t||"old"===t})})})]}),(0,o.jsx)(w.ZP,{item:!0,md:2,lg:2,xs:2,children:(0,o.jsx)(h.Z,{fullWidth:!0,color:"warning",variant:"contained",size:"small",onClick:y,children:"納品書 一括ダウンロード"})})]}),(0,o.jsxs)(w.ZP,{item:!0,container:!0,spacing:5,alignItems:"flex-end",children:[(0,o.jsx)(w.ZP,{item:!0,lg:10,md:10,xs:12,children:(0,o.jsx)(w.ZP,{item:!0,md:5,lg:5,xs:12,children:(0,o.jsx)(k.Z,{defaultValue:null==a?void 0:a.customerFacility,value:null==a?void 0:a.customerFacility,onChange:p("customerFacility")})})}),(0,o.jsx)(w.ZP,{item:!0,md:2,lg:2,xs:2,children:(0,o.jsx)(h.Z,{fullWidth:!0,color:"warning",variant:"contained",size:"small",onClick:g,children:"発送指示書 CSVダウンロード"})})]}),(0,o.jsx)(w.ZP,{item:!0,container:!0,xs:12,justifyContent:"center",children:(0,o.jsx)(w.ZP,{item:!0,xs:2,children:(0,o.jsx)(h.Z,{fullWidth:!0,color:"warning",variant:"contained",onClick:Z,children:"検索"})})})]})};l.Z=p},78135:function(e,l,t){"use strict";t.r(l);var o=t(85893),r=t(67294),i=t(76480),n=t(82927),a=t(74368),s=t(45670),d=t(30298),c=t(55050),u=t(86886),m=t(36822),x=t(40044),h=t(66242),w=t(44267),j=t(78445);let k=()=>{let[e,l]=(0,r.useState)({type:"ADD",customerFacility:{},workAtFrom:(0,a.ec)(a.cB),workAtTo:(0,a.ec)(a.Kd)}),[t,k]=(0,r.useState)("all"),p=(e,l)=>{k(l)};return(0,o.jsx)(u.ZP,{container:!0,spacing:6,children:(0,o.jsx)(u.ZP,{item:!0,xs:12,children:(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(j.Z,{title:"出荷管理ページ（コーンと漬物）"}),(0,o.jsxs)(w.Z,{sx:{p:0,"&:last-child":{pb:0}},children:[(0,o.jsx)(n.Z,{value:t,setParams:l,tabValue:t,type:"ADD"}),(0,o.jsx)(m.Z,{sx:{width:"100%",typography:"body1"},children:(0,o.jsxs)(s.ZP,{value:t,children:[(0,o.jsx)(m.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,o.jsxs)(d.Z,{onChange:p,"aria-label":"lab API tabs example",children:[(0,o.jsx)(x.Z,{label:"全部",value:"all"}),(0,o.jsx)(x.Z,{label:"本日",value:"current"}),(0,o.jsx)(x.Z,{label:"本日完了",value:"old"})]})}),(0,o.jsx)(c.Z,{value:"all",children:(0,o.jsx)(i.Z,{type:"all",params:e,tabValue:t,showGenerateBtn:!1,disableSelectCategory:!0,dateKey:"work"})}),(0,o.jsx)(c.Z,{value:"current",children:(0,o.jsx)(i.Z,{type:"current",params:e,tabValue:t,showGenerateBtn:!1,disableSelectCategory:!0,dateKey:"work"})}),(0,o.jsx)(c.Z,{value:"old",children:(0,o.jsx)(i.Z,{type:"old",params:e,tabValue:t,showGenerateBtn:!1,disableSelectCategory:!0,dateKey:"work"})})]})})]})]})})})};l.default=k}},function(e){e.O(0,[3662,8360,7851,8271,2288,6682,6261,6644,7064,3863,7206,361,748,7727,6752,1395,9774,2888,179],function(){return e(e.s=92723)}),_N_E=e.O()}]);