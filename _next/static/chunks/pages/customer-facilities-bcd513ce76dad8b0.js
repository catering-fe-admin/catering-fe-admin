(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5773],{47789:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer-facilities",function(){return i(3003)}])},97065:function(e,t,i){"use strict";var n=i(85893),r=i(67294),a=i(41609),l=i.n(a),o=i(24697),s=i(74368),d=i(7323),u=i(66476),c=i(36822),p=i(84962);let m=e=>{let{error:t,helperText:i,defaultValue:a={},value:m={id:"",name:""},onChange:h,label:x="施設名",disabled:v,selectorSelectedKey:g="name",additionalParams:f={}}=e,[M,y]=(0,r.useState)(""),[b]=(0,o.Nr)(M,300),Z={page:1,size:5,[g]:b,...f};l()(Z.name)&&delete Z.name;let{data:S,fetchNextPage:C,hasNextPage:I,isFetchingNextPage:T}=(0,d.uv)(Z,{select:e=>{var t;return null==e?void 0:null===(t=e.pages)||void 0===t?void 0:t.flatMap(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.content})}}),j=e=>{let t=e.currentTarget;(0,s.U2)(t,30,async()=>{I&&(T||C())})},_=(e,t,i)=>{e&&"blur"===e.type?y(""):"reset"!==i&&y(t)},P=e=>null==e?void 0:e[g];return(0,n.jsx)(p.Z,{options:S||[],getOptionLabel:e=>P(e)||"",id:"dropdownCustomerFacilities",onInputChange:_,onChange:(e,t)=>h(t),disabled:v,renderInput:e=>(0,n.jsx)(u.Z,{...e,label:x,error:t,helperText:i}),renderOption:(e,t)=>(0,r.createElement)(c.Z,{...e,component:"li",key:null==t?void 0:t.id},P(t)||""),ListboxProps:{onScroll:j,style:{maxHeight:150}},defaultValue:a,value:m})};t.Z=m},66476:function(e,t,i){"use strict";var n=i(85893),r=i(67294),a=i(98271),l=i(90948);let o=(0,l.ZP)(a.Z)(e=>{let{theme:t,style:i}=e;return{alignItems:"flex-start","& .MuiInputLabel-root":{transform:"none",lineHeight:1.154,position:"relative",marginBottom:t.spacing(1),fontSize:t.typography.body2.fontSize,color:"".concat(t.palette.text.primary," !important")},"& .MuiInputBase-root":{borderRadius:8,backgroundColor:"transparent !important",border:"1px solid rgba(".concat(t.palette.customColors.main,", 0.2)"),transition:t.transitions.create(["border-color","box-shadow"],{duration:t.transitions.duration.shorter}),"&:not(.Mui-focused):not(.Mui-disabled):not(.Mui-error):hover":{borderColor:"rgba(".concat(t.palette.customColors.main,", 0.28)")},"&:before, &:after":{display:"none"},"&.MuiInputBase-sizeSmall":{borderRadius:6},"&.Mui-error":{borderColor:t.palette.error.main},"&.Mui-focused":{boxShadow:t.shadows[2],"& .MuiInputBase-input:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transform:"translateX(4px)"},"&.MuiInputBase-colorPrimary":{borderColor:t.palette.primary.main},"&.MuiInputBase-colorSecondary":{borderColor:t.palette.secondary.main},"&.MuiInputBase-colorInfo":{borderColor:t.palette.info.main},"&.MuiInputBase-colorSuccess":{borderColor:t.palette.success.main},"&.MuiInputBase-colorWarning":{borderColor:t.palette.warning.main},"&.MuiInputBase-colorError":{borderColor:t.palette.error.main},"&.Mui-error":{borderColor:t.palette.error.main}},"&.Mui-disabled":{backgroundColor:"".concat(t.palette.action.selected," !important")},"& .MuiInputAdornment-root":{marginTop:"0 !important"}},"& .MuiInputBase-input":{color:t.palette.text.secondary,"&:not(textarea)":{padding:"15.5px 13px"},"&:not(textarea).MuiInputBase-inputSizeSmall":{padding:"7.5px 13px"},"&:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter})},"&.MuiInputBase-inputAdornedStart:not(.MuiAutocomplete-input)":{paddingLeft:0},"&.MuiInputBase-inputAdornedEnd:not(.MuiAutocomplete-input)":{paddingRight:0}},"& .MuiFormHelperText-root":{lineHeight:1.154,margin:t.spacing(1,0,0),color:t.palette.text.secondary,fontSize:t.typography.body2.fontSize,"&.Mui-error":{color:t.palette.error.main}},"& .MuiSelect-select:focus, & .MuiNativeSelect-select:focus":{backgroundColor:"transparent"},"& .MuiSelect-filled .MuiChip-root":{height:22},"& .MuiAutocomplete-input":{paddingLeft:"6px !important",paddingTop:"7.5px !important",paddingBottom:"7.5px !important","&.MuiInputBase-inputSizeSmall":{paddingLeft:"6px !important",paddingTop:"2.5px !important",paddingBottom:"2.5px !important"}},"& .MuiAutocomplete-inputRoot":{paddingTop:"8px !important",paddingLeft:"8px !important",paddingBottom:"8px !important","&:not(.MuiInputBase-sizeSmall).MuiInputBase-adornedStart":{paddingLeft:"13px !important"},"&.MuiInputBase-sizeSmall":{paddingTop:"5px !important",paddingLeft:"5px !important",paddingBottom:"5px !important","& .MuiAutocomplete-tag":{margin:2,height:22}}},"& .MuiInputBase-multiline":{padding:"15.25px 13px","&.MuiInputBase-sizeSmall":{padding:"7.25px 13px"},"& textarea.MuiInputBase-inputSizeSmall:placeholder-shown":{overflowX:"hidden"}},"& + .react-datepicker__close-icon":{top:i||11,"&:after":{fontSize:"1.6rem !important"}}}}),s=(0,r.forwardRef)((e,t)=>{let{size:i="small",InputLabelProps:r,style:a,...l}=e;return(0,n.jsx)(o,{size:i,inputRef:t,...l,variant:"filled",InputLabelProps:{...r,shrink:!0},style:a})});s.displayName="CustomTextField",t.Z=s},53198:function(e,t,i){"use strict";var n=i(85893),r=i(53816),a=i(53252),l=i(18979);i(67294);let o=e=>{let{rowsNum:t,cellsNum:i}=e;return[...Array(t)].map((e,t)=>(0,n.jsx)(r.Z,{children:[...Array(i)].map((e,t)=>(0,n.jsx)(a.Z,{children:(0,n.jsx)(l.Z,{animation:"wave",variant:"text"})},t))},t))};t.Z=o},74368:function(e,t,i){"use strict";i.d(t,{$U:function(){return x},Bi:function(){return d},Iy:function(){return o},Kd:function(){return h},U2:function(){return u},WL:function(){return s},Wd:function(){return l},cB:function(){return m},ec:function(){return v},hN:function(){return g},sl:function(){return a},y_:function(){return c}});var n=i(27484),r=i.n(n);let a=["PUBLIC","PRIVATE","DELETED"],l={PUBLIC:"公開",PRIVATE:"非公開",DELETED:"削除"},o={END_FOLLOWING_MONTH:"30日(月末)",DATE_10_FOLLOWING_MONTH:"10日",DATE_15_FOLLOWING_MONTH:"15日",DATE_20_FOLLOWING_MONTH:"20日"},s={END_NEXT_MONTH:"翌月末",DATE_25_NEXT_MONTH:"翌月25日",DATE_20_NEXT_MONTH:"翌月20日",DATE_15_NEXT_MONTH:"翌月15日",DATE_10_NEXT_MONTH:"翌月10日",DATE_5_SECOND_MONTH:"翌々月5日",DATE_10_SECOND_MONTH:"翌々月10日"},d=e=>{let t=e.split("-");return"".concat(parseInt(t[0]),"年").concat(parseInt(t[1]),"月").concat(parseInt(t[2]),"日")},u=(e,t,i)=>{t=parseInt(t),e.scrollTop+e.clientHeight>=e.scrollHeight-t&&i()},c=e=>{let t=null==e?void 0:e.map(e=>({id:e.customerFacility.id,name:e.customerFacility.name})),i=new Map;null==t||t.forEach(e=>{i.has(e.name)||i.set(e.name,e)});let n=Array.from(i.values());return n.sort((e,t)=>e.name.localeCompare(t.name,"ja"))};var p=new Date;let m=new Date(p.getFullYear(),p.getMonth(),1),h=new Date(p.getFullYear(),p.getMonth()+1,0),x=e=>{let t=new Date(e);return t.setMonth(t.getMonth()+1),t.setDate(0),t},v=e=>e?r()(e).format("YYYY-MM-DD"):null,g=e=>{let t=Intl.NumberFormat("en-US"),i=t.format(Math.floor(parseInt(e)));return i}},81820:function(e,t,i){"use strict";var n=i(10987);let r=(0,n.rh)({todos:{list:e=>[e],detail:e=>[e]},adminBulletins:{list:e=>[e],detail:e=>[e]},adminPrefectures:{list:e=>[e],detail:e=>[e]},adminItems:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCourses:{list:e=>[e],detail:e=>[e]},adminSuppliers:{list:e=>[e],detail:e=>[e],holiday:e=>[e]},adminAllergens:{list:e=>[e],detail:e=>[e]},adminItemPacks:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminItemPacksInventories:{list:e=>[e]},adminItemPackLogs:{list:e=>[e]},adminMenus:{list:e=>[e],detail:e=>[e]},adminTimeSections:{list:e=>[e],detail:e=>[e]},adminCustomers:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminSupplierPurchases:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminSupplierPurchaseMonthlies:{list:e=>[e],detail:e=>[e]},adminCustomersFacilities:{list:e=>[e],detail:e=>[e]},facilityKinds:{list:e=>[e],detail:e=>[e]},adminWarehouses:{list:e=>[e],detail:e=>[e]},adminSupplierInvoiceMonthlies:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCustomerInvoiceMonthlies:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCustomerPurchaseMenus:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseSingles:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseMousses:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseRices:{list:e=>[e],detail:e=>[e]},adminServes:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseMonthlies:{list:e=>[e],detail:e=>[e]},adminItemDeliveries:{list:e=>[e]},adminCustomerDeliveries:{list:e=>[e],deliver:e=>[e],exportDeliverySlip:e=>[e]},adminCustomerDeliveriesGenerate:{list:e=>[e],detail:e=>[e]},adminCustomerDeliveriesExportDeliverySlip:{list:e=>[e]},adminCustomerDeliveriesDeliver:{list:e=>[e]},publicTemperature:{list:e=>[e]},publicClosingType:{list:e=>[e]},publicPaymentType:{list:e=>[e]},publicTimezoneType:{list:e=>[e]},publicDeliveryFrequency:{list:e=>[e]}});t.Z=r},7323:function(e,t,i){"use strict";i.d(t,{gr:function(){return g},G9:function(){return x},XD:function(){return h},uv:function(){return m},kW:function(){return v},Sl:function(){return f}});var n=i(59403),r=i(36492),a=i(48228),l=i(29180);let o=e=>l.Z.get("admin/customer-facilities",{params:e}),s=(e,t)=>l.Z.get("admin/customer-facilities/".concat(e),{params:t}),d=e=>l.Z.post("admin/customer-facilities",e,{headers:{"Content-Type":"multipart/form-data"}}),u=(e,t)=>l.Z.put("admin/customer-facilities/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}),c=(e,t)=>l.Z.put("admin/customer-facilities/".concat(e,"/password/reset"),t);var p=i(81820);let m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=p.Z.adminCustomersFacilities.list(e).queryKey,r=t=>o({...e,page:t});return(0,n.N)({queryKey:i,queryFn:e=>{let{pageParam:t}=e;return r(t)},getNextPageParam:e=>{var t,i;if(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.last)return null;let n=(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.number)+1;return n+1},...t})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=p.Z.adminCustomersFacilities.list(e).queryKey,n=()=>o(e),a={...t};return(0,r.a)({queryKey:i,queryFn:n,...a})},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=p.Z.adminCustomersFacilities.detail(e).queryKey,n=()=>s(e),a={...t};return(0,r.a)({queryKey:i,queryFn:n,...a})},v=()=>(0,a.D)(e=>d(e)),g=e=>(0,a.D)(t=>u(e,t)),f=e=>(0,a.D)(()=>c(e))},3003:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return N}});var n=i(85893),r=i(67294),a=i(35937),l=i.n(a),o=i(69417),s=i(86886),d=i(97065);let u=e=>{var t,i;let{handleSetParams:a}=e,[l,u]=(0,r.useState)({}),c=e=>t=>{u({...l,[e]:t})},p=()=>{let{facility1:e,facility2:t}=l||{};a({code:(null==e?void 0:e.code)||"",name:(null==t?void 0:t.name)||""})};return(0,n.jsxs)(s.ZP,{container:!0,spacing:5,padding:"24px",children:[(0,n.jsx)(s.ZP,{item:!0,lg:6,md:6,xs:12,spacing:5,children:(0,n.jsx)(d.Z,{label:"施設CD",value:(null==l?void 0:l.facility1)||null,onChange:c("facility1"),selectorSelectedKey:"code",additionalParams:{name:null==l?void 0:null===(t=l.facility2)||void 0===t?void 0:t.name}})}),(0,n.jsx)(s.ZP,{item:!0,lg:6,md:6,xs:12,spacing:5,children:(0,n.jsx)(d.Z,{label:"施設名",value:(null==l?void 0:l.facility2)||null,onChange:c("facility2"),selectorSelectedKey:"name",additionalParams:{code:null==l?void 0:null===(i=l.facility1)||void 0===i?void 0:i.code}})}),(0,n.jsx)(s.ZP,{item:!0,container:!0,xs:12,justifyContent:"center",children:(0,n.jsx)(s.ZP,{item:!0,xs:2,children:(0,n.jsx)(o.Z,{fullWidth:!0,color:"warning",variant:"contained",onClick:p,children:"検索"})})})]})};var c=i(41664),p=i.n(c),m=i(7323),h=i(36822),x=i(90629),v=i(7906),g=i(295),f=i(53252),M=i(72882),y=i(53184),b=i(70519),Z=i(53816),S=i(26280),C=i(13113),I=i(53198),T=[{id:"code",label:"施設CD",withSort:!0},{id:"name",label:"施設名",withSort:!0},{id:"customer-code",label:"顧客CD",withSort:!0},{id:"customer-name",label:"顧客名",withSort:!0},{id:"phone-number",label:"電話番号",withSort:!0},{id:"fax-number",label:"FAX番号",withSort:!0},{id:"contact-person-name",label:"担当者名",withSort:!0},{id:"action",label:"アクション",width:200,align:"center"}];let j=e=>{let{additionalParams:t}=e,[i,a]=(0,r.useState)(0),[l,s]=(0,r.useState)(10),[d,u]=(0,r.useState)("desc"),[c,j]=(0,r.useState)("createdAt"),_=(e,t)=>{a(t)},P=e=>{s(+e.target.value),a(0)},D=e=>{u(c===e&&"asc"===d?"desc":"asc"),j(e)},w={page:i+1,size:l,sort:"".concat(c,",").concat(d),...t},{data:N,isFetching:E}=(0,m.XD)(w),B=null==N?void 0:N.data,O=(null==B?void 0:B.content)||[],A=null==B?void 0:B.totalElements;return(0,n.jsxs)(x.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,n.jsx)(M.Z,{children:(0,n.jsxs)(v.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,n.jsx)(y.Z,{children:(0,n.jsx)(Z.Z,{children:T.map(e=>(0,n.jsx)(f.Z,{align:e.align,style:{width:null==e?void 0:e.width},children:(null==e?void 0:e.withSort)?(0,n.jsxs)(S.Z,{active:c===e.id,direction:c===e.id?d:"asc",onClick:()=>D(e.id),children:[e.label,c===e.id?(0,n.jsx)(h.Z,{component:"span",sx:C.Z,children:"desc"===d?"sorted descending":"sorted ascending"}):null]}):e.label},e.id))})}),(0,n.jsx)(g.Z,{children:E?(0,n.jsx)(I.Z,{rowsNum:10,cellsNum:8}):(null==O?void 0:O.length)==0?(0,n.jsx)(Z.Z,{children:(0,n.jsx)(f.Z,{colSpan:null==T?void 0:T.length,align:"center",children:"「該当する品目はありません。」"})}):null==O?void 0:O.map(e=>{var t,i;return(0,n.jsxs)(Z.Z,{hover:!0,children:[(0,n.jsx)(f.Z,{children:(null==e?void 0:e.code)||"--"}),(0,n.jsx)(f.Z,{children:(null==e?void 0:e.name)||"--"}),(0,n.jsx)(f.Z,{children:(null==e?void 0:null===(t=e.customer)||void 0===t?void 0:t.code)||"--"}),(0,n.jsx)(f.Z,{children:(null==e?void 0:null===(i=e.customer)||void 0===i?void 0:i.name)||"--"}),(0,n.jsx)(f.Z,{children:(null==e?void 0:e.telephone)||"--"}),(0,n.jsx)(f.Z,{children:(null==e?void 0:e.fax)||"--"}),(0,n.jsx)(f.Z,{children:(null==e?void 0:e.pic)||"--"}),(0,n.jsx)(f.Z,{align:"center",sx:{gap:"12px"},children:(0,n.jsx)(p(),{href:"/customer-facilities/".concat(null==e?void 0:e.id),children:(0,n.jsx)(o.Z,{variant:"contained",color:"success",children:"詳細"})})})]},e.id)})})]})}),(0,n.jsx)(b.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:A,rowsPerPage:l,page:i,onPageChange:_,onRowsPerPageChange:P,labelRowsPerPage:"表示件数"})]})};var _=i(66242),P=i(78445),D=i(44267);let w=()=>{let[e,t]=(0,r.useState)({}),i=e=>{let i=l()(e,e=>!!e)||{};t(i)};return(0,n.jsx)(s.ZP,{container:!0,spacing:6,children:(0,n.jsx)(s.ZP,{item:!0,xs:12,children:(0,n.jsxs)(_.Z,{children:[(0,n.jsx)(P.Z,{title:"施設一覧"}),(0,n.jsxs)(D.Z,{sx:{p:0,"&:last-child":{pb:0}},children:[(0,n.jsx)(u,{handleSetParams:i}),(0,n.jsx)(j,{additionalParams:e})]})]})})})};var N=w}},function(e){e.O(0,[8360,7851,8271,2288,6682,6261,6644,7064,7815,7206,7248,9774,2888,179],function(){return e(e.s=47789)}),_N_E=e.O()}]);