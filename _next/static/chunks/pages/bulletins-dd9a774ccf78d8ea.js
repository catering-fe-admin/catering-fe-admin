(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3689],{58222:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulletins",function(){return i(80249)}])},53198:function(e,t,i){"use strict";var n=i(85893),l=i(53816),r=i(53252),s=i(18979);i(67294);let a=e=>{let{rowsNum:t,cellsNum:i}=e;return[...Array(t)].map((e,t)=>(0,n.jsx)(l.Z,{children:[...Array(i)].map((e,t)=>(0,n.jsx)(r.Z,{children:(0,n.jsx)(s.Z,{animation:"wave",variant:"text"})},t))},t))};t.Z=a},74368:function(e,t,i){"use strict";i.d(t,{$U:function(){return v},Bi:function(){return d},Iy:function(){return a},Kd:function(){return p},U2:function(){return u},WL:function(){return o},Wd:function(){return s},cB:function(){return h},ec:function(){return f},hN:function(){return x},sl:function(){return r},y_:function(){return c}});var n=i(27484),l=i.n(n);let r=["PUBLIC","PRIVATE","DELETED"],s={PUBLIC:"公開",PRIVATE:"非公開",DELETED:"削除"},a={END_FOLLOWING_MONTH:"30日(月末)",DATE_10_FOLLOWING_MONTH:"10日",DATE_15_FOLLOWING_MONTH:"15日",DATE_20_FOLLOWING_MONTH:"20日"},o={END_NEXT_MONTH:"翌月末",DATE_25_NEXT_MONTH:"翌月25日",DATE_20_NEXT_MONTH:"翌月20日",DATE_15_NEXT_MONTH:"翌月15日",DATE_10_NEXT_MONTH:"翌月10日",DATE_5_SECOND_MONTH:"翌々月5日",DATE_10_SECOND_MONTH:"翌々月10日"},d=e=>{let t=e.split("-");return"".concat(parseInt(t[0]),"年").concat(parseInt(t[1]),"月").concat(parseInt(t[2]),"日")},u=(e,t,i)=>{t=parseInt(t),e.scrollTop+e.clientHeight>=e.scrollHeight-t&&i()},c=e=>{let t=null==e?void 0:e.map(e=>({id:e.customerFacility.id,name:e.customerFacility.name})),i=new Map;null==t||t.forEach(e=>{i.has(e.name)||i.set(e.name,e)});let n=Array.from(i.values());return n.sort((e,t)=>e.name.localeCompare(t.name,"ja"))};var m=new Date;let h=new Date(m.getFullYear(),m.getMonth(),1),p=new Date(m.getFullYear(),m.getMonth()+1,0),v=e=>{let t=new Date(e);return t.setMonth(t.getMonth()+1),t.setDate(0),t},f=e=>e?l()(e).format("YYYY-MM-DD"):null,x=e=>{let t=Intl.NumberFormat("en-US"),i=t.format(Math.floor(parseInt(e)));return i}},81820:function(e,t,i){"use strict";var n=i(10987);let l=(0,n.rh)({todos:{list:e=>[e],detail:e=>[e]},adminBulletins:{list:e=>[e],detail:e=>[e]},adminPrefectures:{list:e=>[e],detail:e=>[e]},adminItems:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCourses:{list:e=>[e],detail:e=>[e]},adminSuppliers:{list:e=>[e],detail:e=>[e],holiday:e=>[e]},adminAllergens:{list:e=>[e],detail:e=>[e]},adminItemPacks:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminItemPacksInventories:{list:e=>[e]},adminItemPackLogs:{list:e=>[e]},adminMenus:{list:e=>[e],detail:e=>[e]},adminTimeSections:{list:e=>[e],detail:e=>[e]},adminCustomers:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminSupplierPurchases:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminSupplierPurchaseMonthlies:{list:e=>[e],detail:e=>[e]},adminCustomersFacilities:{list:e=>[e],detail:e=>[e]},facilityKinds:{list:e=>[e],detail:e=>[e]},adminWarehouses:{list:e=>[e],detail:e=>[e]},adminSupplierInvoiceMonthlies:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCustomerInvoiceMonthlies:{list:e=>[e],export:e=>[e],detail:e=>[e]},adminCustomerPurchaseMenus:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseSingles:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseMousses:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseRices:{list:e=>[e],detail:e=>[e]},adminServes:{list:e=>[e],detail:e=>[e]},adminCustomerPurchaseMonthlies:{list:e=>[e],detail:e=>[e]},adminItemDeliveries:{list:e=>[e]},adminCustomerDeliveries:{list:e=>[e],deliver:e=>[e],exportDeliverySlip:e=>[e]},adminCustomerDeliveriesGenerate:{list:e=>[e],detail:e=>[e]},adminCustomerDeliveriesExportDeliverySlip:{list:e=>[e]},adminCustomerDeliveriesDeliver:{list:e=>[e]},publicTemperature:{list:e=>[e]},publicClosingType:{list:e=>[e]},publicPaymentType:{list:e=>[e]},publicTimezoneType:{list:e=>[e]},publicDeliveryFrequency:{list:e=>[e]}});t.Z=l},11750:function(e,t,i){"use strict";i.d(t,{k4:function(){return h},eA:function(){return u},BZ:function(){return c},w4:function(){return m}});var n=i(36492),l=i(48228),r=i(29180);let s=e=>r.Z.get("admin/bulletins",{params:e}),a=e=>r.Z.get("admin/bulletins/".concat(e)),o=e=>r.Z.post("admin/bulletins",e,{headers:{"Content-Type":"multipart/form-data"}});var d=i(81820);let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=d.Z.adminBulletins.list(e).queryKey,l=()=>s(e);return(0,n.a)({queryKey:i,queryFn:l,...t})},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=d.Z.adminBulletins.detail(e).queryKey,l=()=>a(e);return(0,n.a)({queryKey:i,queryFn:l,...t})},m=()=>(0,l.D)(e=>o(e)),h=e=>(0,l.D)(t=>(function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],r.Z.put("admin/bulletins/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}})})(e,t))},80249:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var n=i(85893),l=i(41664),r=i.n(l),s=i(67294),a=i(74368),o=i(11750),d=i(36822),u=i(69417),c=i(90629),m=i(7906),h=i(295),p=i(53252),v=i(72882),f=i(53184),x=i(70519),_=i(53816),T=i(26280),Z=i(13113),g=i(53198),D=[{id:"status",label:"ステータス",width:250,withSort:!0},{id:"date",label:"年月日",width:250,withSort:!0},{id:"subject",label:"タイトル",withSort:!0},{id:"action",label:"アクション",width:200,align:"center"}];let j=()=>{var e,t;let[i,l]=(0,s.useState)(null),[j,E]=(0,s.useState)(0),[N,w]=(0,s.useState)(10),[P,b]=(0,s.useState)("desc"),[y,C]=(0,s.useState)("createdAt"),M=(e,t)=>{E(t)},O=e=>{w(+e.target.value),E(0)},I=e=>{b(y===e&&"asc"===P?"desc":"asc"),C(e)},S={page:j+1,size:N,...y&&{sort:"".concat(y,",").concat(P)}},{isFetching:A}=(0,o.eA)(S,{onSuccess:e=>{e&&l(null==e?void 0:e.data)}});return(0,n.jsxs)(c.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,n.jsx)(v.Z,{children:(0,n.jsxs)(m.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,n.jsx)(f.Z,{children:(0,n.jsx)(_.Z,{children:D.map(e=>(0,n.jsx)(p.Z,{align:e.align,style:{width:null==e?void 0:e.width},children:(null==e?void 0:e.withSort)?(0,n.jsxs)(T.Z,{active:y===e.id,direction:y===e.id?P:"asc",onClick:()=>I(e.id),children:[e.label,y===e.id?(0,n.jsx)(d.Z,{component:"span",sx:Z.Z,children:"desc"===P?"sorted descending":"sorted ascending"}):null]}):e.label},e.id))})}),(0,n.jsx)(h.Z,{children:A?(0,n.jsx)(g.Z,{rowsNum:10,cellsNum:4}):(null==i?void 0:null===(e=i.content)||void 0===e?void 0:e.length)==0?(0,n.jsx)(_.Z,{children:(0,n.jsx)(p.Z,{colSpan:null==D?void 0:D.length,align:"center",children:"「該当する品目はありません。」"})}):null==i?void 0:null===(t=i.content)||void 0===t?void 0:t.map(e=>{let t=a.Wd[null==e?void 0:e.status],i=(0,a.Bi)(null==e?void 0:e.date);return(0,n.jsxs)(_.Z,{hover:!0,children:[(0,n.jsx)(p.Z,{children:t}),(0,n.jsx)(p.Z,{children:i}),(0,n.jsx)(p.Z,{children:null==e?void 0:e.subject}),(0,n.jsx)(p.Z,{align:"center",children:(0,n.jsx)(r(),{href:"/bulletins/".concat(null==e?void 0:e.id),children:(0,n.jsx)(u.Z,{variant:"contained",color:"success",children:"詳細"})})})]},null==e?void 0:e.id)})})]})}),(0,n.jsx)(x.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:null==i?void 0:i.totalElements,rowsPerPage:N,page:j,onPageChange:M,onRowsPerPageChange:O,labelRowsPerPage:"表示件数"})]})};var E=i(66242),N=i(44267),w=i(78445),P=i(86886);let b=()=>(console.log("Coba force-dynamic"),(0,n.jsx)(P.ZP,{container:!0,spacing:6,children:(0,n.jsx)(P.ZP,{item:!0,xs:12,children:(0,n.jsxs)(E.Z,{children:[(0,n.jsx)(w.Z,{title:"掲示板",action:(0,n.jsx)(r(),{href:"/bulletins/create",children:(0,n.jsx)(u.Z,{variant:"contained",color:"info",children:"新規お知らせ追加"})})}),(0,n.jsx)(N.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,n.jsx)(j,{})})]})})}));var y=b}},function(e){e.O(0,[8360,7851,2288,6261,7815,4219,9774,2888,179],function(){return e(e.s=58222)}),_N_E=e.O()}]);